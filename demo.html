<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>上传</title>
    <link href="css/basic.css" rel="stylesheet" type="text/css" />
	<link href="css/jquery.Jcrop.css" rel="stylesheet" type="text/css" />
</head>
    <style type="text/css">
        #imghead {
            filter: progid: DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=image);
        }
    </style>
    <script type="text/javascript">
        function previewImage(file) {
            var div = document.getElementById('target');
                div.innerHTML = '<img id=imghead>';
            if (file.files && file.files[0]) {
                var img = document.getElementById('imghead');
                var img1 = document.getElementById('imghead1');
                var img2 = document.getElementById('imghead2');
                var img3 = document.getElementById('imghead3');

                // img.onload = function () {
                //     var rect = clacImgZoomParam();
                //     img.width = rect.width;
                //     img.height = rect.height;
                //     img.style.marginLeft = rect.left + 'px';
                //     img.style.marginTop = rect.top + 'px';
                // }
                var reader = new FileReader();
                reader.onload = function (evt) {
                    img.src = evt.target.result;
                    img1.src = evt.target.result;
                    img2.src = evt.target.result;
                    img3.src = evt.target.result;
                }
                reader.readAsDataURL(file.files[0]);
            } else {
                var sFilter = 'filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="';
                    file.select();
                var src = document.selection.createRange().text;
                var img = document.getElementById('imghead');
                img.filters.item('DXImageTransform.Microsoft.AlphaImageLoader').src = src;
            }
        }
    </script>
<body>
    <input type="file" onchange="previewImage(this)" />
    <div class="wrap" id="jcropdiv">
        <div class="wl">
            <div class="jc-demo-box" data="0">
                <div id="target" class="jcrop_w">
                    <img src="images/bb.jpg"/>
                </div>  
            </div>
            <div class="jy-up-ch">
                <a id="idLeft" href="" class="bch bch1"> </a>
                <a id="idSmall" href="" class="bch bch2"> </a>
                <a id="idBig" href="" class="bch bch3"> </a>
                <a id="idRight" href="" class="bch bch4"> </a>
            </div>
        </div>
        <div class="wr" id="preview-pane">
            <div class="preview-container">
                <div class="pre-1">
                    <img id="imghead1" src="images/bb.jpg" class="jcrop-preview jcrop_preview_s" alt="" />
                </div>
                <div class="pre-2">
                    <img id="imghead2" src="images/bb.jpg" class="jcrop-preview jcrop_preview_s" alt="" />
                </div>
                <div class="pre-3">
                    <img id="imghead3" src="images/bb.jpg" class="jcrop-preview jcrop_preview_s" alt="" />
                </div>
            </div>
        </div>
	 </div>


<script type="text/javascript" src="js/jQuery.js"> </script>
<script type="text/javascript" src="js/jquery.Jcrop.js"> </script>
<script type="text/javascript" src="js/basic.js"> </script>
</body>
</html>